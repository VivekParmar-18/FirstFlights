<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Here</title>
    <link rel="icon" href="./files/logo.png">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Paytone+One&family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
</head>

<body class="register-body">

    <nav>
        <img src="./files/logo.png" class="logo" alt="Logo" title="FirstFlight Travels">

        <ul class="navbar">
            <li>
                <a href="./index.html">Home</a>
                <a href="./index.html#locations">Locations</a>
                <a href="./index.html#package">Packages</a>
                <a href="./about.html">About Us</a>
                <a href="./contact.html">Contact Us</a>
            </li>
        </ul>
        <button id="signout-btn" class="signout-btn" style="height: 40px; width: 100px; margin: 20px; color: rgb(21, 74, 74); font-size: 18px;
                padding: auto 30px;
                border-radius: 4px;
                font-weight: 500; 
                border:none;  " onclick={handleSignOut()}>SIGN OUT</button>
    </nav>

    <section class="registration">
        <div class="register-form">
            <h1>Book <span>Now</span></h1>
            <form name="register-user">

                <input type="text" name="name" placeholder="Name" id="name" required>
                <input type="email" name="email" placeholder="Email-Id" id="email" required>
                <input type="tel" name="phone" placeholder="Phone No." id="phonenum" minlength="10" required>
                <input type="number" name="age" placeholder="Age" id="age" required>
                <h4>Gender</h4>
                <input type="radio" name="gender" value="Male" id="male" required> Male &nbsp; &nbsp; &nbsp; &nbsp;
                &nbsp; &nbsp;
                <input type="radio" name="gender" value="Female" id="female"> Female
                <h4>Departure</h4>
                <input type="datetime-local" name="departuredate" id="" required>
                <h4>Return</h4>
                <input type="datetime-local" name="returndate" id="" required>
                <h4>Travel Destination</h4>
                <input type="radio" name="td" value="Kashmir" id="Kashmir" required> Kashmir &nbsp; &nbsp; &nbsp;
                <input type="radio" name="td" value="Istanbul" id="Istanbul"> Istanbul &nbsp; &nbsp; &nbsp;
                <input type="radio" name="td" value="Paris" id="Paris"> Paris &nbsp; &nbsp; &nbsp;
                <input type="radio" name="td" value="Bali" id="Bali"> Bali &nbsp; &nbsp; &nbsp;<br>
                <input type="radio" name="td" value="Dubai" id="Dubai"> Dubai &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                <input type="radio" name="td" value="Geneva" id="Geneva"> Geneva &nbsp; &nbsp; &nbsp;
                <input type="radio" name="td" value="Port Blair" id="Port"> Port Blair &nbsp; &nbsp; &nbsp;
                <input type="radio" name="td" value="Rome" id="Rome"> Rome &nbsp; &nbsp; &nbsp;
                <br> <br>
                <h4>Package</h4>
                <input type="radio" name="packageType" value="Bronze" id="loc1" required> Bronze &nbsp; &nbsp; &nbsp;
                <input type="radio" name="packageType" value="Silver" id="loc2"> Silver &nbsp; &nbsp; &nbsp;
                <input type="radio" name="packageType" value="Gold" id="loc3"> Gold &nbsp; &nbsp; &nbsp;
                <input type="radio" name="packageType" value="Platinum" id="loc4"> Platinum &nbsp; &nbsp; &nbsp;
                <br> <br>
                <input type="checkbox" name="tc" id="" checked required> I accept the <a href="tnc.html"
                    onclick="toggleForm()">Terms & Conditions.</a>
                <br> <br>
                <input type="submit" value="Submit" class="submitbtn" />

            </form>
        </div>
    </section>

    <!-- Footer -->

    <section class="footer">
        <div class="foot">
            <div class="footer-content">

                <div class="footlinks">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="./register.html">Register</a></li>
                        <li><a href="./about.html">About Us</a></li>
                        <li><a href="./contact.html">Contact Us</a></li>
                    </ul>
                </div>

                <div class="footlinks">
                    <h4>Connect</h4>
                    <div class="social">
                        <a href=""><i class='bx bxl-facebook'></i></a>
                        <a href="https://www.instagram.com/vivek_.l8" target="_blank"><i
                                class='bx bxl-instagram'></i></a>
                        <a href="https://www.linkedin.com/in/vivekparmar1812" target="_blank"><i
                                class='bx bxl-linkedin'></i></a>
                        <a href=""><i class='bx bxl-youtube'></i></a>
                        <a href="https://github.com/VivekParmar-18"  target="_blank"><i class='bx bxl-github'></i></a>
                        <a href=""><i class='bx bxs-map'></i></a>
                    </div>
                </div>

            </div>
        </div>

        <div class="end">
            <p>Copyright Â© 2022 Firstflight Travels All Rights Reserved.<br>Website developed by: Vivek Parmar</p>
        </div>
    </section>

    <!-- Javascript -->
    <script>
        const action_url = "https://script.google.com/macros/s/AKfycbxRICVzy-1N2X1LDtLq7NzCW5Ltk2-fh_e9Lb76P8bjFd5YzYWugureOoOhUh8ta19Q/exec";
        const formRegister = document.forms["register-user"];

        // const proxyUrl = 'https://cors-anywhere.herokuapp.com/'

        formRegister.addEventListener("submit", async (e) => {
            e.preventDefault();
            console.log(new FormData(formRegister));
            await fetch(action_url, {
                method: "POST",
                body: new FormData(formRegister),
            }).then((response) => {
                console.log(response)
                alert(" Booking Done!!", response);
                formRegister.reset();
                window.location.href = "./index.html"
            }).catch((error) => {
                console.log(error);
                alert(error.message);
            })
        })

        window.onload = function () {
            if (localStorage.getItem("login") === "true") {
                document.getElementById("signout-btn").style.display = "block";
                document.getElementById("signout-btn").textContent = "SIGN OUT";
            } else if (localStorage.getItem("login") === "false") {
                document.getElementById("signout-btn").style.display = "block"
                document.getElementById("signout-btn").textContent = "LOGIN";
            }
        }

        function handleSignOut() {
            let text = document.getElementById("signout-btn").textContent;
            console.log(text)

            if (text === "LOGIN") {
                window.location.href = "./login.html"
            } else if (text === "SIGN OUT") {
                document.getElementById("signout-btn").textContent = "LOGIN";
                localStorage.setItem("login", false);
                window.location.href = "./index.html"
            }
        }

    </script>

</body>

</html>